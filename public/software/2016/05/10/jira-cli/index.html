<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-SMBH4M85HZ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-SMBH4M85HZ');
  </script>

  <title>Mariano Gappa&#39;s Blog</title>
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/chroma.css">
  <link rel="icon" href="/favicon.ico">
  
</head>

<body>
  <header class="header-flex">
    <div class="site-title"><a href="/">Mariano Gappa&#39;s Blog</a></div>
    <nav>
      <ul>
        <li><a href="/about/">About</a></li>
        <li><a href="/projects/">Projects</a></li>
      </ul>
    </nav>
  </header>
  <main class="container">
    
<article class="post">
  <h1 class="post-title">jira-cli: a lightweight bash script for easily querying JIRA</h1>
  <div class="post-meta">
    
    <span class="post-date">May 10, 2016</span>
    
    
  </div>
  
  <div class="post-content">
    <h2 id="get-jira-cli-at">Get jira-cli at</h2>
<p><!-- raw HTML omitted --><a href="https://github.com/MarianoGappa/jira-cli">https://github.com/MarianoGappa/jira-cli</a><!-- raw HTML omitted --></p>
<h2 id="why">Why?</h2>
<p>JIRA is cool. But it&rsquo;s slow! And it&rsquo;s not composable. And devs/ops love the terminal.</p>
<h2 id="use-cases">Use cases</h2>
<ul>
<li>
<p>Once I had this requirement to tell some business person about what tickets (JIRA issues) we deployed. We had the ticket numbers on the commit messages, so a <code>git diff ... | grep ... | sort | uniq</code> between deploy tags was kind of enough to get them&hellip;only the guy wanted the ticket titles as well. With some clever Sublime multi-cursor hacking plus a terminal I would open all the tickets on Chrome and then copy-paste the titles from them one-by-one. So boring and slow!</p>
</li>
<li>
<p>Then there&rsquo;s looking for tickets. It&rsquo;s easy enough on JIRA, with JQL and the UI tools. But it&rsquo;s slow!</p>
</li>
<li>
<p>Then there&rsquo;s keeping a personal backlog on JIRA, which can also be achieved with JQL + bookmarks. That process is just fine as it is just using the UI, until you want to combine it with something (i.e. until you want to &ldquo;pipe it to something&rdquo;). For example, boss comes in: &ldquo;can you do this?&rdquo;. You: &ldquo;I have these 3 tickets already. What&rsquo;s the priority?&rdquo;. What&rsquo;s the fastest easiest way to get those 3 links so that your boss can prioritise? Or is it better to get ticket names and titles rather than links?</p>
</li>
<li>
<p>Say you have a list of say 5 tickets you&rsquo;re trying to finish by the end of the week. All you care about is those 5 tickets and their status; why should you load all that clunky UI, set up labels beforehand, etc, etc?</p>
</li>
</ul>
<h2 id="quick-start">Quick start</h2>
<p>Please follow the instructions <!-- raw HTML omitted -->in the readme<!-- raw HTML omitted -->.</p>
<p>Note that jira-cli requires the awesome <!-- raw HTML omitted -->jq<!-- raw HTML omitted --> tool, which if you don&rsquo;t have installed, you really should! jira-cli will remind you to install it if it doesn&rsquo;t find it.</p>
<p>When you first run <code>jira</code>, it&rsquo;ll open <code>~/.jiraconfig</code> on your default editor:</p>
<p><img src="/images/posts/jira-cli-first-run.png" alt="Running jira-cli for the first time"></p>
<p>After you configure your credentials you should be good to go. Try <code>jira ok</code> one last time to double-check:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>~ $ jira ok
</span></span><span style="display:flex;"><span>OK
</span></span></code></pre></div><h2 id="tweaking-and-examples">Tweaking and examples</h2>
<p>Personally, I like to go all the way with the tools I use the most, so I like these aliases:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>alias g<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;git&#39;</span>
</span></span><span style="display:flex;"><span>alias s<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;subl .&#39;</span>
</span></span><span style="display:flex;"><span>alias d<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;docker&#39;</span>
</span></span><span style="display:flex;"><span>alias k<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;kubectl&#39;</span>
</span></span><span style="display:flex;"><span>alias j<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;jira&#39;</span>
</span></span></code></pre></div><p>So if one morning I feel energetic enough to finish up all my backlog, I open all my assigned tickets in Chrome in one go!</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>~ $ j me | j o
</span></span></code></pre></div><p>Which translates to:</p>
<blockquote>
<p>jira &ldquo;output all ticket numbers assigned to me&rdquo; | jira &ldquo;open all tickets from STDIN on browser&rdquo;)</p>
</blockquote>
<p>(To clarify: you don&rsquo;t have to be so hacker: <code>jira me | jira open</code> works just as well.
For more info just type: <code>jira</code>.)</p>
<p>If the boss asks me to do something (like in the example use case), I can give him my backlog for him to prioritise with:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>~ $ j me | j t
</span></span><span style="display:flex;"><span>ABC-123     Do some work
</span></span><span style="display:flex;"><span>DEF-456     Do some more work
</span></span><span style="display:flex;"><span>GHI-789     Do very urgent work
</span></span></code></pre></div><p>When I can&rsquo;t remember what I was working on, I really like the search command. It shows up to 15 results ordered by last updated using JQL&rsquo;s <code>text</code> filter, all bound to the projects you configured on <code>~/.jiraconfig</code>. You can then choose to open one by adding e.g. <code>| j o 3</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>~ $ j s cat
</span></span><span style="display:flex;"><span>JKL-012     Feed the cat
</span></span><span style="display:flex;"><span>MNO-345     Buy a new cat
</span></span><span style="display:flex;"><span>PQR-678     Take the cat shopping
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>~ $ j s cat | j o <span style="color:#ae81ff">3</span>
</span></span></code></pre></div><h2 id="in-closing">In closing</h2>
<p>Try it, it&rsquo;s free and open source! It&rsquo;s not the new <code>grep</code>, but it can be pretty useful once or twice a day. It&rsquo;s been stable enough for me for a few months now. Please contribute with issues, PRs, etc! If you find it useful, let me know!</p>

  </div>
</article>

  </main>
</body>

</html>
